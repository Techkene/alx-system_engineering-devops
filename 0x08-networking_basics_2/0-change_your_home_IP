#!/usr/bin/env bash

# Check if the script is running with root privileges
if [[ $EUID -ne 0 ]]; then
    echo "This script must be run as root. Please use sudo or run as root user."
    exit 1
fi

# Define the mappings for localhost and facebook.com
localhost_mapping="127.0.0.2"
facebook_mapping="8.8.8.8"

# Function to add or update a mapping in the host file
update_hosts_mapping() {
    local ip_address=$1
    local hostname=$2
    if grep -q -P "^\s*$ip_address\s+$hostname\s*$" /etc/hosts; then
        echo "$hostname mapping already exists."
    else
        # Add or update the mapping in the host file
        sed -i "s/^\s*.*$hostname\s*$/\t$ip_address\thostname/" /etc/hosts
        echo "$hostname mapping added or updated in etc/hosts."
    fi
}

# Update localhost mapping
update_hosts_mapping "$localhost_mapping" "localhost"

# Update facebook.com mapping
update_hosts_mapping "$facebook_mapping" "facebook.com"

echo "Configuration completed."
